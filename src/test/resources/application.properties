# Test profile configuration

# Use PostgreSQL via Quarkus Dev Services for testing
quarkus.datasource.db-kind=postgresql
# Dev Services will automatically provide a PostgreSQL test container
# No need to specify URL, username, or password - handled by Dev Services

# Flyway configuration for tests - use production migrations
quarkus.flyway.migrate-at-start=true
quarkus.flyway.baseline-on-migrate=true

# Hibernate configuration for tests - validate against migrated schema
quarkus.hibernate-orm.database.generation=validate
quarkus.hibernate-orm.log.sql=true

# Disable OIDC for tests
quarkus.oidc.enabled=false

# Dev Services configuration for PostgreSQL
quarkus.devservices.enabled=true
quarkus.devservices.db.container-env.POSTGRES_INITDB_ARGS=--auth-host=trust
# Reuse containers between test runs for better performance
quarkus.datasource.devservices.reuse=true